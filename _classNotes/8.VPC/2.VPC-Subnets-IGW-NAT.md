# VPC

- A `Virtual Private Cloud (VPC)` is a logically isolated section of the AWS cloud where you can launch AWS resources in a virtual network that you define. Region-specific.
  - It has a CIDR (Classless Inter-Domain Routing) block (e.g., 10.0.0.0/16) that defines the IP address range for the VPC.
- `Subnet`: A range of IP addresses in your VPC. Each subnet must reside entirely within one Availability Zone (AZ) and cannot span multiple AZs.
- `Public Subnet`: is a subnet that is accessible from the internet. It has a route to an Internet Gateway (IGW).
- `Private Subnet`: is a subnet that is not accessible from the internet. It does not have a route to an Internet Gateway (IGW).
- `Route Tables`: A set of rules, called routes, that are used to determine where network traffic is directed. To the internet, within the VPC (subnets), or to a VPN connection.

## VPC Diagram

- AWS Cloud
  - Region
    - Availability Zone 1 (AZ1)
      - VPC 1
        - Public Subnet
          - EC2 Instance (Web Server)
        - Private Subnet
          - EC2 Instance (App Server)
          - RDS Instance (Database)
    - Availability Zone 2 (AZ2)
      - VPC 1
        - Public Subnet
          - EC2 Instance (Web Server)
        - Private Subnet
          - EC2 Instance (App Server)
          - RDS Instance (Database)

## Internet Gateway (IGW)

- `Internet Gateway (IGW)`: Helps our VPC instances to connect to the internet.
- Public Subnets must have a route to the IGW in their route table.
- Private Subnets do not have a route to the IGW in their route table.

## NAT (Network Address Translation) Gateway

- `NAT Gateway (AWS-managed)`: Enables instances in a private subnet to connect to the internet or other AWS services, but prevents the internet from initiating a connection with those instances. It must be in a public subnet and have a route to the IGW.
- `NAT Instance (self-managed)`: A NAT instance is an Amazon EC2 instance configured to forward traffic to the internet. It must be in a public subnet and have a route to the IGW.
- The difference between NAT Gateway and NAT Instance:
  - NAT Gateway is a managed service by AWS, while NAT Instance is a self-managed EC2 instance.
  - NAT Gateway is more scalable and highly available, while NAT Instance requires manual scaling and management.
  - NAT Gateway has better performance and can handle more traffic than a NAT Instance.
  - Which to choose:
    - For most use cases, NAT Gateway is recommended due to its scalability, availability, and performance.
    - NAT Instance can be used for specific use cases where custom configurations or software are required.
