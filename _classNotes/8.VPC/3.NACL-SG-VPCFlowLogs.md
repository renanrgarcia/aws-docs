# Network Access Control Lists (NACLs) and Security Groups (SGs)

- NACL is firewall for controlling traffic in and out of one or more subnets.
  - Can have allow and deny rules.
  - Are attached to subnets level.
  - Rules only include IP addresses.
  - They are stateless, meaning that if you allow an incoming request from an IP, the response must be explicitly allowed in the outbound rules.
- SG is firewall that controls traffic in and out of an ENI (Elastic Network Interface) or EC2 instance.
  - Can only have allow rules.
  - Rules can include IP addresses and other security groups.
  - They are stateful, meaning that if you allow an incoming request from an IP, the response is automatically allowed regardless of outbound rules.

## NACL vs SG

- NACLs operate at the subnet level, while SGs operate at the instance level.
- NACLs can have both allow and deny rules, while SGs can only have allow rules.
- NACLs are stateless, meaning that return traffic must be explicitly allowed, while SGs are stateful, meaning that return traffic is automatically allowed if the request was allowed.

# VPC Flow Logs

- VPC Flow Logs: Capture information about the IP traffic going to and from network interfaces in your VPC.
  - VPC Flow Logs
  - Subnet Flow Logs
  - ENI Flow Logs
- Helps to monitor and troubleshoot connectivity issues.
  - Subnets to internet | Subnets to subnets | Internet to subnets
- Captures network information from AWS managed interfaces too: ELB, Elasticache, RDS, Aurora, Redshift, etc.
- VPC Flow Logs can go to S3, CloudWatch Logs, or Kinesis Data Firehose.
