# ElastiCache

- Fully managed in-memory data store, compatible with Redis and Memcached.
- Caches are stored in-memory for fast access and low latency.
- Supports automatic scaling, backup, and recovery.
- Integrates with other AWS services like EC2, RDS, and Lambda.
- Helps to reduce database load and improve application performance.
- Make the application stateless by offloading session state to the cache.
- AWS takes care of OS patching, monitoring, and backups.
- Using ElastiCache involves heavy application code changes.

## Cluster Mode Disabled vs Enabled

- `Cluster Mode Disabled`
  - Single primary node for writes and up to 5 read replicas for reads.
  - Suitable for smaller datasets and simpler use cases.
  - Easier to manage and set up.
  - Maximum dataset size is limited by the memory of a single node.
- `Cluster Mode Enabled`
  - Data is partitioned (sharded) across multiple nodes.
  - Supports up to 500 nodes, allowing for larger datasets and higher throughput.
  - Provides better scalability and availability.

## Use cases

1. `DB Caching`

- Applications queries (cache hit: data found) ElastiCache, if not available (cache miss: data not found), then queries the database.
- Then the application updates the cache with the new data from the database.
- Helps relieve load on RDS.
- Cache must have an invalidation strategy to ensure data consistency (most current data available).

2. `Session Caching`

- User logs into any application instance.
- Session data is stored in ElastiCache.
- Subsequent requests can be served from the cache, improving performance.

## Redis vs Memcached

- `Redis`

  - Multi AZ with automatic failover.
  - Read replicas for horizontal scaling and HA.
  - Data durability options (RDB (Redis Database) snapshots, AOF (Append Only File) logs).
  - Backup and restore capabilities.
  - Supports advanced data structures (sets, sorted sets, hyperloglogs, etc.).

- `Memcached`
  - Multi-node for partitioning data (sharding).
  - No high availability or persistence options.
  - Backup and restore (serverless).
  - Multi-threaded architecture for better performance.
