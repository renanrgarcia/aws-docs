# Scaling Policies

- Dynamic Scaling
  - Target Tracking Scaling
    - Simple to setup
    - E.g: Keep ASG CPU at 40%
  - Step/Simple Scaling
    - More complex
    - E.g: When CloudWatch Alarm triggers (e.g., CPU > 70% for 5 minutes), add 2 instances
    - E.g 2: When CloudWatch Alarm triggers (e.g., CPU < 20% for 5 minutes), remove 1 instance
- Scheduled Scaling
  - Scale based on known usage patterns
  - E.g: Scale out at 8 AM, Scale in at 6 PM
- Predictive Scaling
  - Uses machine learning to predict future traffic patterns and adjust capacity accordingly.

## Good metrics to scale on

- CPUUtilization: Average CPU utilization across all instances
- RequestCountPerTarget: Make sure the number of requests per EC2 is stable
  - E.g: If each instance can handle 100 requests per minute, and you have 5 instances, set the target to 500 requests per minute
- AverageNetworkIn/Out: Monitor network traffic to ensure instances can handle the load
- Any custom metric that reflects application performance (e.g., latency, error rates) that you can push to CloudWatch

## Scaling Cooldown

- After a scaling activity, ASG waits for a cooldown period before another scaling activity can occur (default is 300 seconds)
- During this time, ASG will not launch or terminate additional instances (to allow for metrics to stabilize)
- Advice: use a ready-to-use AMI to reduce configuration time in order to be serving requests faster and reduce the cooldown period
