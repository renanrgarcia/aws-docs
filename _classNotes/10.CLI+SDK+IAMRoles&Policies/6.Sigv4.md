# Signing AWS API requests

- When you call the AWS HTTP API, you sign the request so that AWS
  can identify you, using your AWS credentials (access key & secret key)
- Note: some requests to Amazon S3 donâ€™t need to be signed
- If you use the SDK or CLI, the HTTP requests are signed for you

- You should sign an AWS HTTP request using Signature v4 (SigV4)
  1. Create a canonical request
  2. Create a string to sign
  3. Calculate the signature
  4. Add the signature to the HTTP request

## SigV4 Request Examples

- HTTP Header option (signature in Authorization header)

```Header
GET /?Action=ListUsers&Version=2010-05-08 HTTP/1.1
--- Signature in Authorization header ---
Authorization: AWS4-HMAC-SHA256 Credential=AKIDEXAMPLE/20150830/us-east-1/iam/aws4_request,
SignedHeaders=content-type;host;x-amz-date,
Signature=5b138e3f6c9f0a8b7e6f5d5c3c4e2f1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7
---
Content-Type: application/x-www-form-urlencoded; charset=utf-8
Host: iam.amazonaws.com
X-Amz-Date: 20150830T123600Z
```

- Query String option, ex: S3 pre-signed URLs (signature in X-Amz-Signature)

```
GET /examplebucket/test.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&
X-Amz-Credential=AKIDEXAMPLE%2F20130524%2Fus-east-1%2Fs3%2Faws4_request&
X-Amz-Date=20130524T000000Z&
X-Amz-Signature=5b138e3f6c9f0a8b7e6f5d5c3c4e2f1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7
--- Other headers ---
Host: examplebucket.s3.amazonaws.com
content-type: text/plain
```
