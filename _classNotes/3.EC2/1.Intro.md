# EC2 Intro

- **Amazon EC2 (Elastic Compute Cloud)**: A web service that provides resizable compute capacity in the cloud. Infrastructure as a Service (IaaS).
- EC2 allows you to run virtual servers (instances) on-demand, providing flexibility and scalability.
- Key features of EC2:
  - Renting virtual servers (instances) with various configurations (EC2).
  - Storing data using Amazon S3 or EBS.
  - Distributing traffic using Elastic Load Balancing (ELB).
  - Scaling resources automatically with Auto Scaling Group (ASG).

## Configuration Options

- Choose OS (Windows, Linux, etc.).
- Select instance type (CPU, memory, storage).
- How much storage:
  - Network-attached storage (EBS & EFS).
  - Hard disk storage (EC2 Instance Store).
- Network Card (speed, bandwidth, Public IP, etc.).
- Security groups (firewall rules).
- Bootstrap scripts to configure at first launch (EC2 user data).

## EC2 User Data

- User data allows you to run scripts or commands when an instance launches.
- Common use cases:
  - Install software packages and updates.
  - Configure system settings.
  - Start services or applications.
- It runs as the root user on Linux instances and as an administrator on Windows instances.

## Instance types

- EC2 instances come in various types optimized for different use cases:
  - General Purpose (e.g., t2.micro, m5.large): Balanced CPU, memory, and networking.
  - Compute Optimized (e.g., c5.large): High CPU performance for compute-intensive tasks.
  - Memory Optimized (e.g., r5.large): High memory capacity for memory-intensive applications.
  - Storage Optimized (e.g., i3.large): High I/O performance for storage-intensive workloads.
  - GPU Instances (e.g., p3.2xlarge): For machine learning and graphics-intensive applications.
- t2.micro is eligible for the AWS Free Tier up to 750 hours per month for the first 12 months.

## Instance Roles

- Why? Managing credentials for applications running on EC2 instances can be complex and insecure. Never hard-code credentials in your applications.
- Instance roles allow you to assign permissions to your EC2 instances without needing to manage credentials.
- You can use IAM roles to grant your instances access to AWS services and resources.
- How to create and attach an IAM role to an EC2 instance:
  - Create an IAM role with the necessary permissions.
  - Select the EC2 instance you want to attach the role to.
  - Attach the IAM role to the instance.

## Instance Purchasing Options

- **On-Demand Instances**: Pay for compute capacity by the hour or second (minimum of 60 seconds). No long-term contracts or upfront payments.
- **Reserved Instances**: Reserve capacity for 1 or 3 years with significant discounts compared to on-demand pricing. Suitable for steady-state workloads.
  - **Standard Reserved Instances**: Provide the most significant discount and are best for steady-state usage.
  - **Convertible Reserved Instances**: Allow you to change the instance type, operating system, or tenancy over the term.
- **Savings Plans**: Flexible pricing model offering significant savings on EC2 usage in exchange for a commitment to a consistent amount of usage (measured in $/hr) for a 1 or 3-year term.
- **Spot Instances**: Bid on unused EC2 capacity at reduced rates. Ideal for flexible, interruption-tolerant workloads. Less reliable than on-demand instances.
- **Dedicated Hosts**: Physical servers dedicated to your use. Helps you meet compliance requirements and can be used to optimize licensing costs.
- **Dedicated Instances**: Instances that run on hardware dedicated to your use. They are isolated at the hardware level from other AWS accounts.
- **Capacity Reservations**: Reserve capacity for your EC2 instances in a specific Availability Zone. Ensures that you have the necessary capacity when you need it.
