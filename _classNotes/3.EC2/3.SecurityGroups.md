# EC2 Security Groups

- Security groups act as virtual firewalls for your EC2 instances to control inbound and outbound traffic.
- You can specify rules based on IP protocols, ports, and source/destination IP addresses.
- Security groups are stateful, meaning if you allow an incoming request from a specific IP, the response is automatically allowed, regardless of outbound rules.
- Only contains allow rules; there are no deny rules.

## Key Concepts

- They regulate:
  - Access ports (e.g., HTTP, HTTPS, SSH).
  - IP ranges (e.g., specific IPs, CIDR blocks).
  - Inbound traffic: Rules that control incoming traffic to your instance. All is blocked by default.
  - Outbound traffic: Rules that control outgoing traffic from your instance. All is allowed by default.
- Can be associated with multiple instances. And an instance can have multiple security groups.
- Locked down to a specific VPC (Virtual Private Cloud) / region combination.
- Live outside of the EC2 - if traffic is blocked, EC2 instance won't see it.
- It's good to maintain one separate security group for SSH access.
- If your application is not accessible (ex: timeout), check the security group rules first.
- If you get connection refused, it might be application error or it's not launched yet.

## Referencing Security Groups

- Security groups can reference other security groups, allowing you to create more complex rules.
- For example, you can allow traffic from one security group to another, which is useful for multi-tier applications.

## Classic Ports to know

- **SSH (Secure Shell)**: Port 22 - Used for secure remote administration of Linux instances.
- **FTP (File Transfer Protocol)**: Port 21 - Used for transferring files.
- **SFTP (SSH File Transfer Protocol)**: Port 22 - Used for secure file transfer over SSH.
- **HTTP (Hypertext Transfer Protocol)**: Port 80 - Used for web traffic.
- **HTTPS (Hypertext Transfer Protocol Secure)**: Port 443 - Used for secure web traffic.
- **RDP (Remote Desktop Protocol)**: Port 3389 - Used for remote administration of Windows instances.
